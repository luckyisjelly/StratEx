# StratEx - 조건 기반 자동 매매 가상 암호화폐 거래소

조건식 자동 매매 기능을 포함한 웹 기반 가상 암호화폐 거래소 프로젝트입니다.  
자체 매칭 엔진을 구현하고, 해외 거래소 시세를 참고 가격으로 활용하는 가격 제한 정책(Price Band)을 적용하여 가격 왜곡을 방지하는 구조로 설계되었습니다.

본 프로젝트는 학습 및 포트폴리오 목적의 시뮬레이션 거래소이며, 실제 자산 입출금 기능은 포함하지 않습니다.

---

## 프로젝트 목적

- 암호화폐 거래소의 핵심 구조(주문, 체결, 오더북, 잔고 처리)를 직접 구현
- 가격 제한 정책을 통한 시장 안정성 설계
- 기술적 지표 기반 자동 매매 시스템 구현
- 인증, 보안, 트랜잭션 처리 구조 설계 경험 확보

---

## 주요 기능

### 1. 인증 시스템

- 카카오 OAuth 2.0 로그인
- JWT 기반 자체 로그인 (Access / Refresh Token)
- Refresh Token Redis 저장
- HTTPS 기반 통신

---

### 2. 가상 지갑 시스템

- 가상 원화 입금 / 출금 기능
- 자산을 `available` / `locked`로 분리 관리
- 주문 생성 시 locked 처리
- 체결 또는 취소 시 잔고 자동 반영

---

### 3. 주문 및 매칭 엔진

- 지정가 주문 기반 매칭 엔진
- 가격 우선 → 시간 우선 체결 방식
- 주문 상태 관리
  - OPEN
  - PARTIALLY_FILLED
  - FILLED
  - CANCELED
  - REJECTED
- 체결 기록(trade) 생성 및 저장
- 트랜잭션 기반 잔고 무결성 보장

---

### 4. 해외 시세 연동 가격 제한 정책 (Price Band)

외부 거래소의 실시간 시세를 참고 가격(Reference Price)으로 활용하여 허용 가격 범위를 설정합니다.

예시:

- Reference Price = 70,000원  
- k = 3%  
- 허용 범위 = 67,900원 ~ 72,100원  

허용 범위를 벗어나는 주문은 자동 조정하지 않고 즉시 Reject 처리합니다.

이를 통해:

- 비정상적인 가격 왜곡 방지
- 사용자 주문 가격 의도 보존
- 가격 정책의 명확성 유지

---

### 5. 조건식 자동 매매 시스템

사용자가 설정한 조건을 만족할 경우 자동으로 주문이 실행됩니다.

예시:

- RSI 60 이상 돌파 시 매수
- 거래량 50% 증가 시 매수
- 특정 가격 돌파 시 매수

전략 조건은 사용자별로 저장되며, 조건 평가 로직에 따라 자동 주문이 생성됩니다.

---

### 6. 실시간 기능

- WebSocket 기반 실시간 호가창
- 실시간 체결 데이터 반영
- 개인 주문 상태 실시간 업데이트

---

### 7. 코인 상세 페이지 구성

#### 매매 탭
- 현재가 (Internal Price)
- 해외 참고 시세 (Reference Price)
- 괴리율 표시
- 허용 가격 범위 표시
- 호가창
- 매수 / 매도 입력창
- 내 주문 현황

#### 코인 정보 탭
- 시가총액
- 발행량
- 기본 정보

#### 커뮤니티 탭
- 코인별 댓글 기능
- 댓글 작성 / 삭제

---

## 시스템 구성

### Backend
- Spring Boot
- Spring Security + JWT 인증
- Spring Data JPA
- PostgreSQL
- Redis
- WebSocket

### Frontend
- React (SPA)
- WebSocket 기반 실시간 데이터 처리

---

## 핵심 설계 개념

### Internal Price
내부 매칭 엔진에 의해 결정되는 실제 거래 가격

### Reference Price
외부 거래소 시세를 기반으로 한 참고 가격

### 잔고 무결성 모델

모든 주문 및 체결은 트랜잭션 단위로 처리되며,  
동시성 제어를 통해 데이터 무결성을 유지합니다.

---

## 개발 단계

- Phase 0 – 설계 및 도메인 모델링
- Phase 1 – 인증 및 보안 구조 구현
- Phase 2 – 지갑 및 주문 시스템 구현
- Phase 3 – 매칭 엔진 구현
- Phase 4 – 실시간 데이터 처리
- Phase 5 – Price Band 정책 적용
- Phase 6 – 조건식 자동 매매 시스템 구현
- Phase 7 – 커뮤니티 기능 구현 및 마무리
