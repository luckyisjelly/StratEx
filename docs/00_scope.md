# Phase 0 - MVP Scope 정의

## 1. 프로젝트 범위 정의

본 프로젝트는 가상 원화 기반 시뮬레이션 암호화폐 거래소를 구현하는 것을 목표로 한다.  
실제 법정화폐 결제 및 블록체인 기반 실자산 입출금 기능은 포함하지 않는다.

---

## 2. MVP에서 반드시 구현할 기능

### 2.1 인증

- 카카오 OAuth 2.0 로그인
- JWT 기반 자체 로그인 (Access / Refresh Token)
- Refresh Token Redis 저장
- 인증이 필요한 API 보호 처리

---

### 2.2 가상 지갑 시스템

- 가상 원화 입금 기능
- 가상 원화 출금 기능
- 사용자 자산을 `available(지금 당장 사용할 수 있는 금액)` / `locked(이미 주문에 사용 중이라 묶여 있는 자산)`로 분리 관리
- 자산 조회 API

---

### 2.3 주문 및 매칭 엔진

- BTC/KRW 단일 마켓 기준 구현
- 지정가 매수 / 매도 주문
- 주문 취소 기능
- 가격 우선 → 시간 우선 체결 방식
- 주문 상태 관리
    - OPEN
    - PARTIALLY_FILLED
    - FILLED
    - CANCELED
    - REJECTED
- 체결(trade) 기록 저장
- 체결 시 잔고 자동 반영 (트랜잭션 기반)

---

### 2.4 Price Band 정책

- 외부 거래소 Reference Price 수집
- 허용 가격 범위 계산

- 허용 범위를 벗어나는 주문은 Reject 처리
- 체결 직전에도 가격 검증 수행

---

### 2.5 실시간 기능

- WebSocket 기반 호가창 업데이트
- 실시간 체결 데이터 반영
- 개인 주문 상태 실시간 업데이트

---

### 2.6 조건식 자동 매매 시스템

- 사용자 전략 저장 기능
- RSI 기반 조건 트리거
- 거래량 기반 조건 트리거
- 가격 돌파 기반 조건 트리거
- 조건 만족 시 자동 주문 생성

---

### 2.7 코인 상세 페이지

- 매매 탭
- 코인 정보 탭
- 커뮤니티 탭 (댓글 기능)

---

## 3. MVP에서 제외되는 기능

- 실자산(코인) 출금 기능
- 선물/마진/레버리지 거래
- 다중 마켓 복잡한 확장
- 관리자 백오피스
- 고급 전략 조합(AND/OR 조건, 백테스트 등)

---

## 4. 데모 시나리오

1. 사용자 로그인
2. 가상 원화 입금
3. 지정가 매수 주문 생성
4. 반대 주문 생성 → 체결 발생
5. 잔고 변경 확인
6. Price Band 초과 주문 → Reject 확인
7. RSI 조건 전략 저장 → 조건 충족 시 자동 주문 생성 확인

---

## 5. 기술적 목표

- 자체 매칭 엔진 구현
- 트랜잭션 기반 데이터 무결성 확보
- Price Band 기반 가격 왜곡 방지
- 실시간 WebSocket 데이터 처리
- 전략 기반 자동 주문 생성 구조 설계